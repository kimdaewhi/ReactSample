<!DOCTYPE html>
<html>
    <body>
        <div id="root">
            <!-- React CDN import -->
            <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
            <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

            <!-- Babel CDN import -->
            <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

            <script type="text/babel">
                const rootElement = document.getElementById("root");

                const todos = [
                    [   {id: 1, value: "wash dishes"},
                        {id: 2, value: "clean the bed"},
                        {id: 3, value: "jogging outside"},
                        {id: 4, value: "go working"},
                    ],

                    [   {id: 4, value: "go working"},
                        {id: 1, value: "wash dishes"},
                        {id: 2, value: "clean the bed"},
                        {id: 3, value: "jogging outside"},
                    ],

                    [   {id: 3, value: "jogging outside"},
                        {id: 4, value: "go working"},
                        {id: 1, value: "wash dishes"},
                        {id: 2, value: "clean the bed"},
                    ],

                    [   {id: 2, value: "clean the bed"},
                        {id: 3, value: "jogging outside"},
                        {id: 4, value: "go working"},
                        {id: 1, value: "wash dishes"},
                    ],
                ];

                /* π¥π¥π¥ App Component(Main) π¥π¥π¥ */
                const App = () => {
                    const [items, setItems] = React.useState(todos[0]);

                    React.useEffect(() => {
                        const interval = setInterval(() => {
                            const random = Math.floor(Math.random() * 3);
                            setItems(todos[random])
                        }, 1000);

                        return () => {
                            clearInterval(interval);
                        };
                    }, []);

                    const handleDoneClick = (todo) => {
                        setItems(items => items.filter((item) => item != todo));
                    };

                    const handleRestoreClick = () => {
                        setItems((items) => [
                            ...items, 
                            todos.find(item => !items.includes(item))
                        ]);
                    };
                    
                    return (
                        <>
                            {items.map((todo, index) => (
                                // λ°°μ—΄μ Keyλ¥Ό μ΄μ©ν•μ—¬ Componentλ¥Ό μ¬μ‚¬μ©ν•  μ μλ‹¤. 
                                // π‘ Keyλ¥Ό μ λ€λ΅ μ¤μ•Ό μ»΄ν¬λ„νΈλ¥Ό μ¬μ‚¬μ©ν•  μ μμ.
                                // <div key={todo.id}>
                                <div key={todo.value}>          {/* Keyμ— indexλ¥Ό μ‚¬μ©ν•  λ•μ™€ idλ¥Ό μ‚¬μ©ν•  λ•κ°€ λ™μ‘μ΄ λ‹¤λ¦„(tabμΌλ΅ ν™•μΈν•΄λ³΄μ). indexλ” κ°€λ³€μ μ„(?)*/}
                                    <button onClick={() => handleDoneClick(todo)}>{todo.value}</button>&nbsp;&nbsp;&nbsp;
                                </div>
                            ))}
                            <br/>
                            <button onClick={handleRestoreClick}>Restore</button>
                        </>
                    );
                };

                ReactDOM.render(<App/>, rootElement)
            </script>
        </div>
    </body>
</html>